import{d as e,r as n,S as t,a,P as o,V as i,W as s,b as d,o as r,M as u,c,e as v,T as w,p as h,f as l,g as p,w as m,h as g,i as f,j as x}from"./vendor.c0a2740b.js";var E=e({name:"threeDemo",setup:()=>{let e=n(2);const h=new t,l=new a(e.value,64,64);l.scale(-1,1,1);const p=new o(75,window.innerWidth/window.innerHeight,.1,1e3);p.position.x=0,p.position.y=0,p.position.z=0;let m=n(new i(e.value,0,0));const g=new s({antialias:!0});async function f(e){const n=new w;return await new Promise(((t,a)=>{n.load(e,(function(e){t(e)}),void 0,(function(e){a(e)}))}))}function x(){p.aspect=window.innerWidth/window.innerHeight,p.updateProjectionMatrix(),g.setSize(window.innerWidth,window.innerHeight)}function E(e){p.fov+=.05*e.deltaY,p.updateProjectionMatrix()}g.shadowMap.enabled=!0,g.setPixelRatio(window.devicePixelRatio),g.setSize(window.innerWidth,window.innerHeight);let M=n(0),L=n(0);function y(n){L.value-=n.movementX/e.value*.01,M.value+=n.movementY/e.value*.01}let T=0,Y=0,z=0,P=0;function X(e){1==e.changedTouches.length?(T=e.changedTouches[0].pageX,Y=e.changedTouches[0].pageY):2==e.changedTouches.length&&(T=e.changedTouches[0].pageX,Y=e.changedTouches[0].pageY,z=e.changedTouches[1].pageX,P=e.changedTouches[1].pageY)}function b(e){T=0,Y=0}function j(e,n){return Math.sqrt(Math.pow(n.x-e.x,2)+Math.pow(n.y-e.y,2))}function W(n){let t=n.changedTouches;if(1==t.length){let n=t[0].pageX,a=t[0].pageY,o=n-T,i=a-Y;T=n,Y=a,L.value-=o/e.value*.01,M.value+=i/e.value*.01}else if(2==t.length){let e=t[0].pageX,n=t[0].pageY,i=t[1].pageX,s=t[1].pageY,d=(o=[{x:e,y:n},{x:i,y:s}],j((a=[{x:T,y:Y},{x:z,y:P}])[0],a[1])/j(o[0],o[1]));p.fov+=.01*d,p.updateProjectionMatrix()}var a,o}function H(){m.value.x=e.value*Math.cos(M.value)*Math.cos(L.value),m.value.y=e.value*Math.sin(M.value),m.value.z=e.value*Math.cos(M.value)*Math.sin(L.value),p.lookAt(m.value),g.render(h,p),requestAnimationFrame(H)}n(0),d({alpha:0,beta:0,gamma:0}),r((async()=>{var e;const n=new u({map:await f("/pano-demo/assets/1.f3289c15.jpg")}),t=new c(l,n);h.add(t),null==(e=A.value)||e.appendChild(g.domElement),H(),window.addEventListener("resize",x,!1),window.addEventListener("wheel",E,!1),window.addEventListener("mousemove",y,!1),window.addEventListener("touchmove",W,!1),window.addEventListener("touchstart",X,!1),window.addEventListener("touchend",b,!1)})),v((()=>{window.removeEventListener("resize",x),window.removeEventListener("wheel",E),window.removeEventListener("mousemove",y),window.removeEventListener("touchmove",W),window.removeEventListener("touchstart",X),window.removeEventListener("touchend",b)}));const A=n(null);return{img:A}}});const M=m("data-v-0f3ee5c8");h("data-v-0f3ee5c8");const L={id:"img",ref:"img",style:{position:"absolute","z-index":"0",top:"0",bottom:"0",left:"0",right:"0",width:"100%",height:"100%",overflow:"hidden"}};l();const y=M(((e,n,t,a,o,i)=>(g(),p("div",L,null,512))));E.render=y,E.__scopeId="data-v-0f3ee5c8";var T=e({name:"App",components:{threeDemo:E}});T.render=function(e,n,t,a,o,i){const s=f("three-demo");return g(),p(s)},x(T).mount("#app");
